# YouTube Sleep Mode - 商业模式与产品策略

## 一、核心结论

基于商业模式调研，**原有的"纯 Chrome 扩展"方案需要调整**。

### 1.1 关键发现

| 发现 | 影响 |
|------|------|
| Chrome Web Store 不支持原生付费 | 必须第三方支付 |
| YouTube 下载功能违反 ToS | 扩展不能做下载 |
| 扩展被下架风险存在 | 不能只依赖扩展 |
| 用户付费意愿：42%接受$4.99/月 | 定价参考 |

### 1.2 策略调整

**原方案**：Chrome 扩展（实时处理）

**新方案**：**Web App 优先 + 扩展辅助**

| 组件 | 功能 | 收费 | 风险 |
|------|------|------|------|
| **Web App（核心）** | 视频下载+处理+播放 | 订阅制 | 低 |
| Chrome 扩展（辅助） | 实时音频处理 | 免费 | 中 |

---

## 二、为什么 Web App 优先

### 2.1 对比分析

| 维度 | 纯扩展方案 | Web App + 扩展方案 |
|------|-----------|------------------|
| 商业化 | 难（付费集成复杂） | 易（标准订阅） |
| 平台风险 | 高（可能被下架） | 低（独立站） |
| 功能完整性 | 受限（不能下载） | 完整（下载+处理） |
| 用户体验 | 好（实时） | 稍差（需等待处理） |
| 跨平台 | 仅桌面浏览器 | 全平台 |
| 移动端 | 不支持 | 支持 |

### 2.2 关键决策逻辑

1. **MVP 阶段目标是验证需求和付费意愿**，Web App 更容易实现付费
2. **扩展有下架风险**，不能把所有鸡蛋放一个篮子
3. **下载处理模式可以做得更彻底**（AI人声分离等），扩展做不到
4. **requirement.txt 要求"web or mobile"**，Web App 满足要求

### 2.3 用户体验的取舍

**问题**：Web App 需要等待处理，体验不如扩展实时

**解决**：
- 处理时间控制在 30 秒内（5分钟视频）
- 缓存已处理视频，重复播放无需等待
- 未来可以加扩展补充实时场景

---

## 三、产品架构

### 3.1 MVP 架构（Web App）

```
┌─────────────────────────────────────────────────────────┐
│                      用户界面                            │
│  ┌─────────────────────────────────────────────────┐   │
│  │  输入 YouTube URL → 选择模式 → 播放/下载         │   │
│  └─────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────┐
│                      后端服务                            │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐             │
│  │ yt-dlp   │→│ FFmpeg   │→│ 存储/CDN  │             │
│  │ 下载音频  │  │ 音频处理  │  │ 缓存结果  │             │
│  └──────────┘  └──────────┘  └──────────┘             │
└─────────────────────────────────────────────────────────┘
```

### 3.2 技术栈

| 层级 | 技术 | 理由 |
|------|------|------|
| 前端 | React + Tailwind | 快速开发 |
| 后端 | Python + FastAPI | 音频处理库丰富 |
| 音频下载 | yt-dlp | 成熟稳定 |
| 音频处理 | FFmpeg | 功能完整 |
| 部署 | Cloudflare Workers + R2 | 成本低 |
| 支付 | Stripe Payment Links | MVP简单 |

### 3.3 音频处理流程

```
1. 用户输入 YouTube URL
        │
        ▼
2. yt-dlp 提取音频（仅音频，不下载视频）
        │
        ▼
3. FFmpeg 处理链：
   ├── loudnorm（响度归一化到 -16 LUFS）
   ├── compand（动态压缩）
   ├── highpass=f=80（去除低频隆隆声）
   └── lowpass=f=8000（柔化高频）
        │
        ▼
4. 输出处理后音频
        │
        ▼
5. 用户播放或下载
```

---

## 四、功能规格

### 4.1 MVP 功能

| 功能 | 描述 | 优先级 |
|------|------|--------|
| **URL 输入** | 粘贴 YouTube 链接 | P0 |
| **音频处理** | 响度归一化 + 动态压缩 + 限幅 | P0 |
| **在线播放** | 处理后直接播放 | P0 |
| **下载** | 下载处理后的 MP3 | P0 |
| **预设模式** | 睡眠/ASMR/播客 | P1 |
| **播放速度** | 0.5x-1.0x | P1 |

### 4.2 后续功能（付费版）

| 功能 | 描述 | 定价层级 |
|------|------|---------|
| 人声分离 | 调整人声/背景比例 | Pro |
| 批量处理 | 处理播放列表 | Pro |
| 历史记录 | 保存处理过的视频 | Pro |
| 自定义参数 | 高级用户调节 | Pro |

### 4.3 UI 设计

```
┌─────────────────────────────────────────────────────┐
│              YouTube Sleep Mode                      │
│                                                     │
│  ┌─────────────────────────────────────┐  ┌─────┐  │
│  │  粘贴 YouTube 链接...               │  │处理 │  │
│  └─────────────────────────────────────┘  └─────┘  │
│                                                     │
│  处理模式: [睡眠模式 ▼]    播放速度: [0.9x ▼]       │
│                                                     │
├─────────────────────────────────────────────────────┤
│                                                     │
│  [视频缩略图]  视频标题                              │
│               时长: 45:32                           │
│                                                     │
│  处理进度: ████████████░░░░░░ 67%                   │
│                                                     │
│        ▶ ━━━━━━━━━●━━━━━━━━━  12:34 / 45:32        │
│                                                     │
│        🔊 ━━━━━━━━━●━━━━                            │
│                                                     │
│              [ 下载 MP3 ]                           │
│                                                     │
└─────────────────────────────────────────────────────┘
```

---

## 五、商业模式

### 5.1 定价策略

| 层级 | 功能 | 价格 |
|------|------|------|
| **免费** | 每天 3 次处理，基础功能 | $0 |
| **Pro 月付** | 无限处理 + 人声分离 + 历史记录 | $4.99/月 |
| **Pro 年付** | 同上 | $39.99/年（67折） |

**定价理由**：
- $4.99/月 是用户接受度最高的区间（42%愿意付费）
- 免费版限制次数而非功能，让用户体验完整价值
- 年付大幅折扣促进长期订阅

### 5.2 成本估算

| 成本项 | 预估 | 说明 |
|--------|------|------|
| 服务器 | $20-50/月 | Cloudflare Workers 按需计费 |
| 存储 | $5-20/月 | R2 存储处理结果 |
| Stripe 手续费 | 2.9% + $0.30 | 每笔交易 |

**盈亏平衡**：约 20 个付费用户/月

### 5.3 增长策略

```
阶段 1：MVP 验证（1-2 周）
├── 发布 Web App
├── 免费使用，收集反馈
└── 验证核心功能是否解决痛点

阶段 2：付费验证（2-4 周）
├── 加入 Stripe 支付
├── 限制免费次数
└── 验证付费转化率

阶段 3：扩展增长（4-8 周）
├── 开发免费 Chrome 扩展
├── 扩展引流到 Web App
└── 账号系统打通
```

---

## 六、风险与应对

### 6.1 版权风险

**风险**：下载 YouTube 内容可能涉及版权

**应对**：
- 只处理音频，不存储原始内容
- 处理完成后立即删除服务器缓存
- 用户协议声明仅供个人使用
- 不提供公开分享功能

### 6.2 YouTube 封锁

**风险**：YouTube 可能封锁 yt-dlp

**应对**：
- yt-dlp 社区活跃，持续更新
- 准备备用下载方案
- 监控并快速响应

### 6.3 竞争风险

**风险**：竞品模仿

**应对**：
- 快速迭代，建立先发优势
- 专注睡眠场景，差异化定位
- 社区运营，建立用户粘性

---

## 七、交付物与验收

### 7.1 Requirement.txt 要求对照

| 要求 | 方案 | 状态 |
|------|------|------|
| 1. 嘈杂背景音乐 | 高频衰减 + 未来AI分离 | ✅ |
| 2. 音量大小不一致 | 响度归一化 + 动态压缩 | ✅ |
| 3. 突然音效 | 硬限幅 | ✅ |
| 4. 语速过快 | 播放速度调节 | ✅ |
| 5. 人声音调过高 | 高频EQ衰减 | ✅ |
| 6. 其他 | 预设模式覆盖 | ✅ |

### 7.2 交付物清单

| 交付物 | 描述 | 状态 |
|--------|------|------|
| 产品文档 | 需求评估 + 产品形态 + 技术架构 + 商业模式 | ✅ |
| 产品代码 | Web App 可运行代码 | 待开发 |
| 使用说明 | README.md | 待编写 |

### 7.3 测试用例

使用 requirement.txt 中的视频验证：

| 视频 | 验证项 |
|------|--------|
| https://www.youtube.com/watch?v=6_PI1l5NKL8 | 音量平稳 |
| https://www.youtube.com/watch?v=7ARBJQn6QkM | 人声清晰 |
| https://youtube.com/shorts/l7dIb1-Aymk | Shorts支持 |
| https://youtube.com/shorts/Th12tPRHX5s | Shorts支持 |

---

## 八、总结

### 8.1 最终方案

> **Web App 优先**：用户粘贴 YouTube 链接 → 后端下载处理 → 播放/下载

### 8.2 核心优势

1. **功能完整**：可以做下载、AI分离等深度处理
2. **商业化清晰**：标准 SaaS 订阅模式
3. **风险可控**：不依赖 Chrome Web Store
4. **跨平台**：手机也能用

### 8.3 取舍说明

| 放弃 | 理由 |
|------|------|
| 实时处理 | 商业化困难、平台风险高 |
| 纯扩展形态 | 无法做深度处理、变现难 |

| 获得 | 价值 |
|------|------|
| 付费能力 | 可持续发展 |
| 功能深度 | 更好的处理效果 |
| 平台独立 | 降低风险 |

### 8.4 下一步

博士确认方案后，立即开始 Web App MVP 开发。
